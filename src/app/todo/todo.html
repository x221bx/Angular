<div class="todo-container">
    <h2>To-Do App</h2>
    <div class="add-task">
        <input type="text" [(ngModel)]="newTaskText" (keyup.enter)="addTask()" placeholder="Enter a new task"
            #taskInput>
        <select [(ngModel)]="selectedUser">
            <option value="">Assign to user (optional)</option>
            <option *ngFor="let user of users" [value]="user.username">{{ user.username }}</option>
        </select>
        <button (click)="addTask()" [disabled]="!newTaskText.trim()">Add Task</button>
    </div>
    <div *ngIf="!tasks.length" class="empty-state">
        No tasks yet. Add your first task above!
    </div>
    <ul class="task-list">
        <li *ngFor="let task of tasks" class="task-item">
            <input type="checkbox" [checked]="task.completed" (change)="toggleCompleted(task.id)">
            <span [class.completed]="task.completed">{{ task.text }}</span>
            <span *ngIf="task.assignedTo" class="assigned-user">Assigned to: {{ task.assignedTo }}</span>
            <button (click)="deleteTask(task.id)">Delete</button>
        </li>
    </ul>
</div>